<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>رسالة شكر 💌</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background: linear-gradient(135deg, #ff9a9e, #fad0c4);
            font-family: "Cursive", Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            text-align: center;
            color: #fff;
        }

        #envelope {
            position: relative;
            width: 400px;
            height: 250px;
            perspective: 1000px;
        }

        .envelope-part {
            position: absolute;
            width: 100%;
            height: 100%;
            background: #fff;
            border: 2px solid #ff6f61;
            transition: transform 1.5s ease-in-out;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        #top-flap {
            top: 0;
            height: 50%;
            background: linear-gradient(135deg, #ff6f61, #ffa07a);
            transform-origin: top;
            z-index: 2;
        }

        #bottom-flap {
            top: 50%;
            height: 50%;
            background: linear-gradient(135deg, #fff, #ffebeb);
            transform-origin: bottom;
            z-index: 1;
        }

        #message-container {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            background: #fff;
            border: 2px solid #ff6f61;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
            opacity: 0;
            transform: scale(0.8);
            transition: opacity 1.5s ease-in-out, transform 1.5s ease-in-out;
        }

        #message-container p {
            font-size: 1.4rem;
            line-height: 1.8;
            color: #ff6f61;
        }

        canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
    </style>
</head>
<body>
    <div id="envelope">
        <div id="top-flap" class="envelope-part"></div>
        <div id="bottom-flap" class="envelope-part"></div>
        <div id="message-container">
            <p>
             it’s my birthday 🎉
عام جديد من عمري أُعانقه اليوم، كبرت عاماً، وتجدّدت أمنياتي. عام آخر قد مضى، ومضت معه أشياء كثيرة منها ما هو صعب وأخرى جميل. عام مضى وخسرت فيه أشياء، وأناس أحببتهم كثيراً. وهأنا اليوم أستقبل وبكل تفاؤل عاماً جديداً.
فيا ربي إني استودعتك نفسي وعمري وقلبي وأهلي وديني، يا رب اجعل لي من أقداري ما أتمنى وبارك لي في عامي الجديد. اللهم عاماً مختلفاً تتحقق فيه أمنياتي، وتمسح فيه خيباتي، وتغفر فيه ذنوبي وزلاتي، وتتضاعف فيه حسناتي. ❤️❤️❤️🎂
            </p>
        </div>
    </div>
    <audio id="music" src="happy_birthday_song.mp3" loop autoplay></audio>
    <canvas id="canvas"></canvas>

    <script>
        // --- فتح الظرف ---
        function openEnvelope() {
            const topFlap = document.getElementById("top-flap");
            const bottomFlap = document.getElementById("bottom-flap");
            const messageContainer = document.getElementById("message-container");

            topFlap.style.transform = "rotateX(180deg)";
            bottomFlap.style.transform = "rotateX(-180deg)";
            setTimeout(() => {
                messageContainer.style.opacity = "1";
                messageContainer.style.transform = "scale(1)";
            }, 1500); // يظهر النص بعد فتح الظرف
        }

        // --- تشغيل الموسيقى تلقائيًا ---
        const music = document.getElementById("music");
        music.play();

        // --- تأثيرات عند تحميل الصفحة ---
        window.onload = () => {
            openEnvelope();
        };

        // --- تأثيرات بصرية ---
        const canvas = document.getElementById("canvas");
        const ctx = canvas.getContext("2d");
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        let particles = [];

        function createParticles() {
            for (let i = 0; i < 150; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    size: Math.random() * 5 + 1,
                    speedX: Math.random() * 2 - 1,
                    speedY: Math.random() * 2 - 1,
                    color: `rgba(${Math.random() * 255}, ${Math.random() * 255}, ${Math.random() * 255}, 0.8)`
                });
            }
        }

        function drawParticles() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles.forEach(p => {
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                ctx.fillStyle = p.color;
                ctx.fill();
            });
        }

        function updateParticles() {
            particles.forEach(p => {
                p.x += p.speedX;
                p.y += p.speedY;
                if (p.x < 0 || p.x > canvas.width || p.y < 0 || p.y > canvas.height) {
                    p.x = Math.random() * canvas.width;
                    p.y = Math.random() * canvas.height;
                }
            });
        }

        function animate() {
            drawParticles();
            updateParticles();
            requestAnimationFrame(animate);
        }

        createParticles();
        animate();
    </script>
</body>
</html>
